# League Score System - 联赛积分预测系统

一个基于Web的联赛积分预测系统，支持用户预测比赛结果、管理员管理比赛和自动计算积分排名。

## 🚀 新功能：跨设备数据同步

### 问题解决
**原问题**：不同设备注册的用户无法在管理员面板中看到，因为每个设备都有独立的本地存储。

**解决方案**：使用GitHub Gist作为云端数据存储，实现跨设备数据同步。

### 配置步骤

#### 1. 创建GitHub Personal Access Token
1. 访问 [GitHub Token设置页面](https://github.com/settings/tokens)
2. 点击 "Generate new token (classic)"
3. 勾选 `gist` 权限
4. 生成并复制token

#### 2. 配置数据同步
1. 用管理员账号登录系统
2. 点击 "数据同步配置"
3. 在 "GitHub Personal Access Token" 输入框中粘贴你的token
4. 点击 "保存配置"
5. 点击 "测试同步" 验证配置是否正确

#### 3. 使用效果
- ✅ 设备A注册的用户在设备B的管理员面板中可见
- ✅ 所有设备的数据实时同步
- ✅ 数据安全存储在GitHub私有Gist中
- ✅ 支持离线使用（自动回退到本地存储）

### 注意事项
- Token具有访问你的GitHub账户的权限，请妥善保管
- 首次配置后，系统会自动创建一个私有Gist来存储数据
- 如果网络连接失败，系统会自动使用本地存储作为备用方案

## 主要功能

### 用户功能
- **用户注册/登录**：支持用户名密码注册和登录
- **比赛预测**：选择预设比赛进行比分预测
- **预测管理**：在截止时间前修改预测
- **排行榜查看**：查看累计总分榜和单轮排行榜
- **历史记录**：查看个人历史得分和排名
- **权限升级**：普通用户可升级为管理员

### 管理员功能
- **用户管理**：查看所有用户、编辑用户信息、删除用户
- **比赛管理**：预设比赛对阵、输入比赛结果
- **轮次管理**：开始新轮次、重置当前轮次、设置截止时间
- **得分计算**：自动计算用户预测得分并生成排行榜
- **数据同步**：配置跨设备数据同步

## 积分规则

基于原始C++代码的积分算法：

- **完全正确**：5分（预测比分与实际比分完全一致）
- **净胜分正确**：3.5分（胜负正确且净胜分一致）
- **部分比分正确**：3.5分（胜负正确且部分比分一致）
- **胜负正确**：2分（胜负预测正确但比分错误）
- **部分比分正确（胜负错误）**：1.5分（部分比分正确但胜负错误）
- **完全错误**：0分

## 文件结构

```
├── index.html          # 主页面
├── style.css           # 样式文件
├── script.js           # JavaScript逻辑
├── README.md           # 说明文档
└── League_old.cpp      # 原始C++积分算法
```

## 部署说明

### GitHub Pages部署
1. 将所有文件上传到GitHub仓库
2. 在仓库设置中启用GitHub Pages
3. 选择main分支作为源
4. 访问生成的网站地址

### 本地部署
1. 下载所有文件到本地目录
2. 用浏览器打开 `index.html`
3. 或使用本地服务器（推荐）

## 自定义配置

### 修改管理员密码
在 `script.js` 中修改 `ADMIN_PASSWORD` 常量：
```javascript
const ADMIN_PASSWORD = "your_new_password";
```

### 修改积分规则
在 `script.js` 中的 `calculateMatchScore` 函数中修改积分逻辑。

## 技术特点

- **纯前端实现**：无需服务器，部署简单
- **响应式设计**：支持桌面和移动设备
- **本地存储**：数据保存在浏览器本地
- **云端同步**：支持跨设备数据同步
- **实时更新**：界面实时响应数据变化
- **错误处理**：完善的错误提示和处理机制

## 浏览器兼容性

- Chrome 60+
- Firefox 55+
- Safari 12+
- Edge 79+

## 更新日志

### v2.0 - 跨设备数据同步
- 新增GitHub Gist云端数据存储
- 新增数据同步配置界面
- 解决跨设备用户数据不可见问题
- 优化用户体验和界面设计

### v1.0 - 基础功能
- 用户注册登录系统
- 比赛预测功能
- 管理员管理功能
- 积分计算和排行榜
- 轮次管理和截止时间设置
